{% extends 'england/core.html'%}
{% load custom_filters %}
{% block title %}Search Results for {{search_term}} {% endblock %}
{% block content %}
<h2 class="text-2xl font-semibold mb-4 text-center">Search Results for {{search_term}}</h2>

{% if postcodes.England|length > 0 or postcodes.Scotland|length > 0 or postcodes.Wales|length > 0 or postcodes.NorthernIreland|length > 0%}
<div class="flex flex-wrap sm:mx-auto sm:mb-2 -mx-2 p-4 justify-center items-center">
    <div class="">
        <table class="min-w-full w-full divide-y divide-gray-200 table-fixed">
          <thead class="bg-gray-100 whitespace-nowrap">
            <tr>
              <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                Postcode
              </th>
              <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                Latitude
              </th>
              <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                Longitude
              </th>
              <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                Easting
              </th>
              <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">
                Northing
              </th>
            </tr>
          </thead>
  
          <tbody class="bg-white divide-y divide-gray-200 whitespace-nowrap">
            {% if postcodes.England|length > 0 %}
                {% for code in postcodes.England %}
                <tr onclick="window.location.href='/england/{{code.postcode | replace_spaces}}/';" class="cursor-pointer hover:translate-x-[1px] hover:translate-y-[-1px]">
                <td class="px-4 py-4 text-sm text-gray-800 font-semibold hover:text-[#007bff]">
                    <a href="/england/{{code.postcode | replace_spaces}}/"></a>{{code.postcode}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.latitude}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.longitude}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.easting}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.northing}}
                </td>
                </tr>
                {% endfor %}
            {% endif %}
            {% if postcodes.Scotland|length > 0 %}
                {% for code in postcodes.Scotland %}
                <tr onclick="window.location.href='/scotland/{{code.postcode | replace_spaces}}/';" class="cursor-pointer hover:translate-x-[1px] hover:translate-y-[-1px]">
                <td class="px-4 py-4 text-sm text-gray-800 font-semibold hover:text-[#007bff]">
                    <a href="/scotland/{{code.postcode | replace_spaces}}/"></a>{{code.Postcode}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.Latitude}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.Longitude}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.Easting}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.Northing}}
                </td>
                </tr>
                {% endfor %}
            {% endif %}
            {% if postcodes.Wales|length > 0 %}
                {% for code in postcodes.Wales %}
                <tr onclick="window.location.href='/wales/{{code.postcode | replace_spaces}}/';" class="cursor-pointer hover:translate-x-[1px] hover:translate-y-[-1px]">
                <td class="px-4 py-4 text-sm text-gray-800 font-semibold hover:text-[#007bff]">
                    <a href="/wales/{{code.postcode | replace_spaces}}/"></a>{{code.postcode}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.latitude}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.longitude}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.easting}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.northing}}
                </td>
                </tr>
                {% endfor %}
            {% endif %}
            {% if postcodes.NorthernIreland|length > 0 %}
                {% for code in postcodes.NorthernIreland %}
                <tr onclick="window.location.href='/nir/{{code.postcode | replace_spaces}}/';" class="cursor-pointer hover:translate-x-[1px] hover:translate-y-[-1px]">
                <td class="px-4 py-4 text-gray-800 font-semibold hover:text-[#007bff]">
                    <a href="/nir/{{code.postcode | replace_spaces}}/"></a>{{code.postcode}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.latitude}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.longitude}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.easting}}
                </td>
                <td class="px-4 py-4 text-sm text-gray-800">
                    {{code.northing}}
                </td>
                </tr>
                {% endfor %}
            {% endif %}
    
        </tbody>
     </table>
    </div>
</div>
{% else %}

<div class="flex items-center justify-center h-[50vh]">
    <h2 class="text-4xl font-bold">No results found</h2>
</div>

{% endif %}

{% endblock %}